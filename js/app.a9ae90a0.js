(function(t){function e(e){for(var s,r,o=e[0],d=e[1],h=e[2],c=0,u=[];c<o.length;c++)r=o[c],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&u.push(a[r][0]),a[r]=0;for(s in d)Object.prototype.hasOwnProperty.call(d,s)&&(t[s]=d[s]);l&&l(e);while(u.length)u.shift()();return n.push.apply(n,h||[]),i()}function i(){for(var t,e=0;e<n.length;e++){for(var i=n[e],s=!0,o=1;o<i.length;o++){var d=i[o];0!==a[d]&&(s=!1)}s&&(n.splice(e--,1),t=r(r.s=i[0]))}return t}var s={},a={app:0},n=[];function r(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=s,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(i,s,function(e){return t[e]}.bind(null,s));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/vuejs-breakout-game/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],d=o.push.bind(o);o.push=e,o=o.slice();for(var h=0;h<o.length;h++)e(o[h]);var l=d;n.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var s=i("2b0e"),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("breakout-game")],1)},n=[],r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"game-notifications clearfix"},[i("div",{staticClass:"instr"},[t._v(" Score : "+t._s(t.setting.currentScore)+" ")]),i("ul",{staticClass:"life"},[i("li",{staticClass:"heart",class:{"heart-o":t.setting.deathNumber>0}}),i("li",{staticClass:"heart",class:{"heart-o":t.setting.deathNumber>1}}),i("li",{staticClass:"heart"})])]),i("div",{staticClass:"container"},[i("canvas",{ref:"breakout-game-canvas",attrs:{height:"430",width:"460"}})]),i("div",{staticClass:"container"},[i("div",{staticClass:"instr-footer"},[i("small",{domProps:{innerHTML:t._s(t.footer)}})])]),t.showOverlay?i("div",{staticClass:"modal-overlay"}):t._e(),i("div",{staticClass:"modal-box"},[i("h3",[t._v(t._s(t.modalHeader))]),t.won?i("p",{staticClass:"modal-score"},[t._v(" Score : "+t._s(t.setting.currentScore)+" ")]):t._e(),i("p",{staticClass:"modal-message"},[t._v(" "+t._s(t.modalMessage)+" ")]),i("a",{staticClass:"btn-play-again",attrs:{href:"#"}},[t._v("Play breakout again!")])])])},o=[],d=(i("cb29"),{name:"BreakoutGame",data:function(){return{canvas:void 0,context:void 0,canvasWidth:void 0,canvasHeight:void 0,brick:void 0,bricks:{row:4,column:6,color:"#ffc500",height:20,width:void 0,padding:2},setting:{ballColor:"#7f8c8d",ballRadius:10,paddleHeight:10,paddleWidth:120,frameSpeed:10,paddleMoveLeft:!1,paddleMoveRight:!1,paddleMoveRate:4,paddleX:170,paddleY:420,gameState:!0,deathNumber:0,deathTotal:2,lostMessage:"You've lost the game. Would you like to play again?",wonMessage:"You've beaten the game. Would you like to improve on your score?",currentScore:0,brickScore:20,paddleScore:10},x:void 0,y:200,dx:.5,dy:4,gameStart:void 0,totalBricks:0,footer:"          \n          Use left and right keys to move paddle.\n          <br>\n          Press spacebar to start game.",modalHeader:"",modalMessage:"",showOverlay:!1,won:!1}},mounted:function(){this.canvas=this.$refs["breakout-game-canvas"],this.context=this.canvas.getContext("2d"),this.canvasWidth=this.canvas.width,this.canvasHeight=this.canvas.height,this.x=this.canvasWidth/2,this.initBricks(),this.init(),this.initSpacebar()},methods:{drawBall:function(){this.context.clearRect(0,0,this.canvasWidth,this.canvasHeight),this.context.beginPath(),this.context.arc(this.x,this.y,this.setting.ballRadius,0,2*Math.PI,!0),this.context.closePath(),this.context.fillStyle=this.setting.ballColor,this.context.fill(),this.x+=this.dx,this.y+=this.dy},drawPaddle:function(){this.setting.paddleMoveLeft&&this.setting.paddleX>=0&&(this.setting.paddleX-=this.setting.paddleMoveRate),this.setting.paddleMoveRight&&this.setting.paddleX<=this.canvasWidth-this.setting.paddleWidth&&(this.setting.paddleX+=this.setting.paddleMoveRate),this.context.fillStyle="#2c3e50",this.context.fillRect(this.setting.paddleX,this.setting.paddleY,this.setting.paddleWidth,this.setting.paddleHeight)},movePaddle:function(){var t=this;window.addEventListener("keydown",(function(e){39===e.keyCode?t.setting.paddleMoveRight=!0:37===e.keyCode&&(t.setting.paddleMoveLeft=!0)})),window.addEventListener("keyup",(function(e){39===e.keyCode?t.setting.paddleMoveRight=!1:37===e.keyCode&&(t.setting.paddleMoveLeft=!1)}))},initBricks:function(){this.totalBricks=this.bricks.row*this.bricks.column,this.brick=new Array(this.bricks.column);for(var t=0;t<this.bricks.column;t++){this.brick[t]=new Array(this.bricks.row);for(var e=0;e<this.bricks.row;e++)this.brick[t][e]={x:0,y:0,state:!0}}},drawBricks:function(){this.bricks.width=this.canvasWidth/this.bricks.column-2;for(var t=0;t<this.bricks.column;t++)for(var e=0;e<this.bricks.row;e++)if(this.brick[t][e].state){var i=t*(this.bricks.width+this.bricks.padding),s=e*(this.bricks.height+this.bricks.padding);this.brick[t][e].x=i,this.brick[t][e].y=s,this.context.beginPath(),this.context.rect(i,s,this.bricks.width,this.bricks.height),this.context.fillStyle=0===e?"#2980b9":1===e?"#27ae60":2===e?"#ED8F03":"#e74c3c",this.context.fill(),this.context.closePath()}},brickCollision:function(){for(var t=0;t<this.bricks.column;t++)for(var e=0;e<this.bricks.row;e++){var i=this.brick[t][e];i.state&&this.x>i.x&&this.x<i.x+this.bricks.width&&this.y>i.y&&this.y<i.y+this.bricks.height&&(this.dy=-this.dy,i.state=!1,this.setting.currentScore+=this.setting.brickScore,this.totalBricks-=1)}},boundaryCollision:function(){if(this.y-this.setting.ballRadius<=0)this.dy=-this.dy;else if(this.y+this.setting.ballRadius>=this.canvasHeight){var t=this.x+this.setting.ballRadius,e=this.x-this.setting.ballRadius;t>=this.setting.paddleX&&e<this.setting.paddleX+this.setting.paddleWidth?(this.dx=(this.x-(this.setting.paddleX+this.setting.paddleWidth/2))/this.setting.paddleWidth*8,void 0===this.dx&&console.log(this.x),this.dy=Math.sqrt(20-this.dx*this.dx),this.dy=-this.dy,this.setting.currentScore>0&&(this.setting.currentScore-=this.setting.paddleScore)):(clearInterval(this.gameStart),this.setting.gameState=!1)}this.y+this.setting.ballRadius>this.canvasHeight+15&&(clearInterval(this.gameStart),this.setting.gameState=!1),(this.x+this.setting.ballRadius>=this.canvasWidth||this.x-this.setting.ballRadius<=0)&&(this.dx=-this.dx)},loseTurn:function(){var t=this;setTimeout((function(e){t.footer="Press any keys to restart the game.",t.setting.deathNumber+=1,t.x=t.canvasWidth/2,t.y=200,t.setting.paddleX=170,t.drawBall(),t.drawBricks(),t.drawPaddle(),t.setting.gameState=!0,window.addEventListener("keyup",(function(e){t.gameStart=setInterval(t.init,t.setting.frameSpeed)}),{once:!0})}),400)},loseGame:function(){this.modalPopup(this.setting.lostMessage,"Game Over !")},initSpacebar:function(){var t=this;window.addEventListener("keyup",(function(e){32===e.keyCode&&t.setting.deathNumber<t.setting.deathTotal&&(t.gameStart=setInterval(t.init,t.setting.frameSpeed),t.footer="")}),{once:!0})},gameWon:function(){clearInterval(this.gameStart),this.won=!0,this.modalPopup(this.setting.wonMessage,"Well done !"),this.drawBall(),this.drawPaddle()},modalPopup:function(t,e){this.modalHeader=e,this.modalHeader=t;var i=this;setTimeout((function(){i.showOverlay=!0,document.getElementsByTagName("BODY")[0].classList.add("game-over")}),100),document.getElementsByClassName("btn-play-again")[0].addEventListener("click",(function(t){t.preventDefault(),location.reload()}))},init:function(){!0===this.setting.gameState&&this.drawBall(),this.boundaryCollision(),this.drawPaddle(),this.drawBricks(),this.movePaddle(),this.brickCollision(),!1===this.setting.gameState&&this.setting.deathNumber<this.setting.deathTotal?this.loseTurn():!1===this.setting.gameState&&this.setting.deathNumber===this.setting.deathTotal&&this.loseGame(),0===this.totalBricks&&this.gameWon()}}}),h=d,l=(i("b772"),i("2877")),c=Object(l["a"])(h,r,o,!1,null,"6be34f82",null),u=c.exports,g={name:"App",components:{BreakoutGame:u}},v=g,p=Object(l["a"])(v,a,n,!1,null,null,null),f=p.exports;s["a"].config.productionTip=!1,new s["a"]({render:function(t){return t(f)}}).$mount("#app")},a4d4:function(t,e,i){},b772:function(t,e,i){"use strict";var s=i("a4d4"),a=i.n(s);a.a}});
//# sourceMappingURL=app.a9ae90a0.js.map